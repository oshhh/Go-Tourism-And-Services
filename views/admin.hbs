<html>
    <head>
        <title>{{title}}</title>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.9/angular.js"></script>
        <script src="../public/javascripts/adminDash.js"></script>
        <link type="text/css" rel="stylesheet" href="../public/css/main.css">
                <link type="text/css" rel="stylesheet" href="../public/css/admin.css">
        <link href='https://fonts.googleapis.com/css?family=Roboto:100,300' rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
          <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    </head>
    <body onload="javascript:onStart()" ng-app="dash">
      <div class="navbar navbar-default fixed-top">
        <div class='n-item'>Admin Dashboard</div>
        <div class='n-item'>Welcome {{name}} (username:{{uid}}) Role: {{role}}</div>
        <a href="/logout"><button class='btn btn-outline-primary'>Logout</button></a>
      </div>
    <div class="container" ng-controller="ngContent">
      
      <nav class="l_bar" align="center">
        <div id="togs">
          <div  class="i_bar" id="act">
          <a ng-click="changeTab(0)" class="a_bar" href="javascript:bs(0)">Service Requests</a>
          </div>
          <div class="rightDivider"><a class="a_bar"> </a></div>
          <div  class="i_bar">
          <a ng-click="changeTab(1)" class="a_bar" href="javascript:bs(1)">Admins</a>
          </div>
          <div  class="i_bar">
          <a ng-click="changeTab(2)" class="a_bar" href="javascript:bs(2)">Users</a>
          </div>
          <div  class="i_bar">
          <a ng-click="changeTab(3)" class="a_bar" href="javascript:bs(3)">Service Providers</a>
          </div>
        </div>
      </nav>

      <div id="content">

        <div id="contentTab0" ng-show="tab==0">
            <h2 style="text-align: center;">
                Tab0
            </h2>
        </div>
 
         <div id="contentTab1" ng-show="tab==1">

            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text">ID</span>
              </div>
              <input ng-model="admin.admin_id" type="text" class="form-control" placeholder="Name">
              <div class="input-group-prepend">
                <span class="input-group-text">Name</span>
              </div>
              <input ng-model="admin.name" type="text" class="form-control" placeholder="Name">
              <div class="input-group-prepend">
              <span class="input-group-text">Role</span>
              </div>
              <input ng-model="admin.role" type="text" class="form-control" placeholder="Role">
              <div class="input-group-prepend">
              <span class="input-group-text">Email</span>
              </div>
              <input ng-model="admin.email" type="text" class="form-control" placeholder="E-Mail">
              <button ng-click="getData(1)" class='btn btn-outline-primary'>Apply Filters</button>
            </div>

            {{!-- Filters End --}}
            
            <h3 style="text-align: center;" ng-show="admin.status=='Pending'">Loading Data</h3>
            
            <div class="table-responsive">
            <table class="table">
            <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">AdminID</th>
                <th scope="col">Name</th>
                <th scope="col">Role</th>
                <th scope="col">E-Mail</th>
                <th scope="col"></th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="it in admin.data">
                <th scope="row">\{{$index}}</th>
                <td>\{{it.admin_id}}</td>
                <td ng-hide="it.editMode" style="text-align: center;">\{{it.name}}</td>
                <td ng-hide="it.editMode" style="text-align: center;">\{{it.role}}</td>
                <td ng-hide="it.editMode" style="text-align: center;">\{{it.email}}</td>
                
                <td ng-show="it.editMode"><input  ng-model="it.name" class="form-control" value="\{{it.name}}"></td>
                <td ng-show="it.editMode"><input ng-model="it.role" class="form-control" value="\{{it.role}}"></td>
                <td ng-show="it.editMode"><input ng-model="it.email" class="form-control" value="\{{it.email}}"></td>
                <td>
                  <button ng-hide="it.editMode" ng-click="it.editMode=true" class="btn btn-outline-primary butTab">Edit</button>
                  <button ng-show="it.editMode" ng-click="it.editMode=false;admin.updateRecord(it);" class="btn btn-outline-primary butTab">Done</button>
                  <button ng-click="admin.updateRecord(it);" class="btn btn-outline-danger butTab">Delete</button>
                </td>
            </tr>
            </tbody>
            </table>
            </div>

        </div>
       
        <div id="contentTab2" ng-show="tab==2">

            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text">ID</span>
              </div>
              <input ng-model="user.user_id" type="text" class="form-control" placeholder="UserID">
              <div class="input-group-prepend">
                <span class="input-group-text">Name</span>
              </div>
              <input ng-model="user.name" type="text" class="form-control" placeholder="Name">
              <div class="input-group-prepend">
              <span class="input-group-text">Email</span>
              </div>
              <input ng-model="user.email" type="text" class="form-control" placeholder="Email">
              <div class="input-group-prepend">
              <span class="input-group-text">Phone No</span>
              </div>
              <input ng-model="user.phone_no" type="text" class="form-control" placeholder="Phone No">
              <div class="input-group-prepend">
              <span class="input-group-text">City</span>
              </div>
              <input ng-model="user.city" type="text" class="form-control" placeholder="City">
              <button ng-click="getData(2)" class='btn btn-outline-primary'>Apply Filters</button>
            </div>

            {{!-- Filters End --}}
            
            <h3 style="text-align: center;" ng-show="user.status=='Pending'">Loading Data</h3>
            
            <div class="table-responsive">
            <table class="table">
            <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col" style="width: 10%;">UserID</th>
                <th scope="col" style="width: 10%;">Name</th>
                <th scope="col" style="width: 25%;">Email</th>
                <th scope="col" style="width: 15%;">Phone No</th>
                <th scope="col" style="width: 10%;">City</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="it in user.data">
                <th scope="row">\{{$index}}</th>
                <td>\{{it.user_id}}</td>
                <td ng-hide="it.editMode" style="text-align: center;">\{{it.name}}</td>
                <td ng-hide="it.editMode" style="text-align: center;">\{{it.email}}</td>
                <td ng-hide="it.editMode" style="text-align: center;"> \{{it.phone_no}}</td>
                <td ng-hide="it.editMode" style="text-align: center;">\{{it.city}}</td>
                
                <td ng-show="it.editMode"><input  ng-model="it.name" class="form-control" value="\{{it.name}}"></td>
                <td ng-show="it.editMode"><input ng-model="it.email" class="form-control" value="\{{it.email}}"></td>
                <td ng-show="it.editMode"><input ng-model="it.phone_no" class="form-control" value="\{{it.phone_no}}"></td>
                <td ng-show="it.editMode"><input ng-model="it.city" class="form-control" value="\{{it.city}}"></td>
                <td>
                  <button ng-hide="it.editMode" ng-click="it.editMode=true" class="btn btn-outline-primary butTab">Edit</button>
                  <button ng-show="it.editMode" ng-click="it.editMode=false;user.updateRecord(it);" class="btn btn-outline-primary butTab">Done</button>
                  <button ng-click="user.updateRecord(it);" class="btn btn-outline-danger butTab">Delete</button>
                </td>
            </tr>
            </tbody>
            </table>
            </div>

        </div>

        <div id="contentTab3" ng-show="tab==3">

            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text">ID</span>
              </div>
              <input ng-model="service_provider.service_provider_id" type="text" class="form-control" placeholder="HOT00000">
              <div class="input-group-prepend">
                <span class="input-group-text">Name</span>
              </div>
              <input ng-model="service_provider.name" type="text" class="form-control" placeholder="Taj">
              <div class="input-group-prepend">
              <span class="input-group-text">Domain</span>
              </div>
              <input ng-model="service_provider.domain" type="text" class="form-control" placeholder="Hotel">
              <div class="input-group-prepend">
              <span class="input-group-text">Active</span>
              </div>
              <input ng-model="service_provider.active" type="text" class="form-control" placeholder="Y">
              <div class="input-group-prepend">
              <button ng-click="getData(3)" class='btn btn-outline-primary'>Apply Filters</button>
              </div>
            </div>

            {{!-- Filters End --}}
            
            <h3 style="text-align: center;" ng-show="service_provider.status=='Pending'">Loading Data</h3>
            
            <div class="table-responsive">
            <table class="table">
            <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col" style="width: 15%;" >ID</th>
                <th scope="col" style="width: 20%;">Name</th>
                <th scope="col" style="width: 20%;">Domain</th>
                <th scope="col" style="width: 10%;">Active</th>
                <th scope="col" style="width: 10%;">Approved</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="it in service_provider.data">
                <th scope="row">\{{$index}}</th>
                <td>\{{it.service_provider_id}}</td>
                <td ng-hide="it.editMode" style="text-align: center;">\{{it.name}}</td>
                <td ng-hide="it.editMode" style="text-align: center;">\{{it.domain}}</td>
                <td ng-hide="it.editMode" style="text-align: center;">\{{it.active}}</td>
                <td ng-hide="it.editMode" style="text-align: center;">\{{it.active}}</td>
                
                <td ng-show="it.editMode"><input  ng-model="it.name" class="form-control" value="\{{it.name}}"></td>
                <td ng-show="it.editMode"><input ng-model="it.email" class="form-control" value="\{{it.domain}}"></td>
                <td ng-show="it.editMode"><input ng-model="it.phone_no" class="form-control" value="\{{it.active}}"></td>
                <td>
                  <button ng-hide="it.editMode" ng-click="it.editMode=true" class="btn btn-outline-primary butTab">Edit</button>
                  <button ng-show="it.editMode" ng-click="it.editMode=false;service_provider.updateRecord(it);" class="btn btn-outline-primary butTab">Done</button>
                  <button ng-click="service_provider.updateRecord(it);" class="btn btn-outline-danger butTab">Delete</button>
                </td>
            </tr>
            </tbody>
            </table>
            </div>

        </div>


      </div>
    </div>
    </body>

</html>